# ==================================================

# Enable Rewrite Engine

# ==================================================

RewriteEngine On

# ==================================================

# Force HTTPS + non-WWW

# ==================================================

RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} ^www\.apkgame777\.com$ [NC]
RewriteRule ^(.\*)$ https://apkgame777.com/$1 [L,R=301]

# ==================================================

# Redirect index.html → /

# ==================================================

RewriteCond %{THE_REQUEST} \s/+index\.html [NC]
RewriteRule ^index\.html$ / [L,R=301]

# ==================================================

# Redirect .html URLs → clean URLs (SEO)

# ==================================================

RewriteCond %{THE_REQUEST} \s/([^.]+)\.html [NC]
RewriteRule ^ %1 [L,R=301]

# ==================================================

# Internally load .html files without showing extension

# ==================================================

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L]

# ==================================================

# Prevent directory listing

# ==================================================

Options -Indexes

# ==================================================

# Protect sensitive files

# ==================================================

<FilesMatch "\.(htaccess|htpasswd|ini|phps|fla|psd|log|sh)$">
Order allow,deny
Deny from all
</FilesMatch>

# ==================================================

# Browser caching

# ==================================================

<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 7 days"
    ExpiresByType text/css "access plus 30 days"
    ExpiresByType application/javascript "access plus 30 days"
    ExpiresByType image/jpg "access plus 365 days"
    ExpiresByType image/jpeg "access plus 365 days"
    ExpiresByType image/png "access plus 365 days"
    ExpiresByType image/webp "access plus 365 days"
</IfModule>

# ==================================================

# GZIP compression

# ==================================================

<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css application/javascript application/json
</IfModule>
